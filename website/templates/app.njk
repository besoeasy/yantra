<!doctype html>
<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{{ pageTitle }}</title>
    <meta name="description" content="{{ pageDescription }}" />
    <meta name="keywords" content="{{ app.name }}, self-host {{ app.name }}, install {{ app.name }} docker, {{ app.name }} homelab, {{ app.name }} self-hosted, docker compose {{ app.name }}{% if app.tags.length %}, {{ app.tags | join(', ') }}{% endif %}, yantr, self-hosted apps" />
    <meta name="theme-color" content="#ffffff" />
    <link rel="canonical" href="{{ pageUrl }}" />

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "{{ app.name }}",
      "description": "{{ app.description }}",
      "url": "{{ pageUrl }}",
      "image": "{{ imageUrl }}",
      "applicationCategory": "{% if app.tags.length %}{{ app.tags[0] | title }}{% else %}Utilities{% endif %}",
      "keywords": "{% if app.tags.length %}{{ app.tags | join(', ') }}{% endif %}",
      "operatingSystem": "Linux, Docker",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      }{% if app.website %},
      "sameAs": "{{ app.website }}"{% endif %}{% if app.usecases.length %},
      "featureList": [{% for uc in app.usecases %}"{{ uc }}"{% if not loop.last %}, {% endif %}{% endfor %}]{% endif %}
    }
    </script>

    <meta property="og:type" content="website" />
    <meta property="og:url" content="{{ pageUrl }}" />
    <meta property="og:title" content="{{ pageTitle }}" />
    <meta property="og:description" content="{{ pageDescription }}" />
    <meta property="og:image" content="{{ imageUrl }}" />
    <meta property="og:site_name" content="Yantr" />

    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="{{ pageUrl }}" />
    <meta property="twitter:title" content="{{ pageTitle }}" />
    <meta property="twitter:description" content="{{ pageDescription }}" />
    <meta property="twitter:image" content="{{ imageUrl }}" />

    <link rel="stylesheet" href="../../tailwind.css" />
  </head>

  <body class="bg-white text-black dark:bg-zinc-950 dark:text-zinc-100 font-mono antialiased selection:bg-black selection:text-white dark:selection:bg-white dark:selection:text-black">
    <main class="w-full px-4 sm:px-6 lg:px-8 py-8 sm:py-10">
      <div class="w-full max-w-4xl mx-auto">

        <!-- Breadcrumb -->
        <a
          href="../../catalog/"
          class="inline-flex items-center gap-2 text-sm text-gray-500 dark:text-zinc-400 hover:text-black dark:hover:text-white transition-colors"
        >
          <span>←</span>
          <span>Back to catalog</span>
        </a>

        <!-- Hero card -->
        <section class="mt-6 rounded-2xl border border-gray-100 dark:border-zinc-800 bg-white dark:bg-zinc-900 p-8">
          <div class="flex flex-col sm:flex-row sm:items-start gap-6">
            <div class="w-20 h-20 rounded-xl border border-gray-100 dark:border-zinc-700 bg-gray-50 dark:bg-zinc-800 flex items-center justify-center overflow-hidden shrink-0">
              <img src="{{ app.logoUrl }}" alt="{{ app.name }} logo" class="w-full h-full object-cover" loading="eager" />
            </div>

            <div class="min-w-0 flex-1">
              <p class="text-[10px] uppercase tracking-[0.2em] text-gray-400 dark:text-zinc-500">Self-Host with Docker · Yantr</p>
              <h1 class="text-2xl sm:text-4xl font-bold font-sans mt-1 break-words">{{ app.name }}</h1>
              {% if app.short_description %}
                <p class="mt-3 text-base text-gray-600 dark:text-zinc-400 leading-relaxed">{{ app.short_description }}</p>
              {% endif %}

              <!-- Tags -->
              {% if app.tags.length %}
                <div class="mt-4 flex flex-wrap gap-1.5">
                  {% for tag in app.tags %}
                    <a
                      href="../../catalog/?tag={{ tag }}"
                      class="text-[10px] uppercase tracking-wider px-2.5 py-1 border border-gray-200 dark:border-zinc-700 text-gray-500 dark:text-zinc-400 hover:border-black dark:hover:border-white hover:text-black dark:hover:text-white transition-colors rounded"
                    >{{ tag }}</a>
                  {% endfor %}
                </div>
              {% endif %}
            </div>
          </div>

          <!-- CTA buttons -->
          <div class="mt-8 flex flex-wrap gap-3">
            {% if app.website %}
              <a
                href="{{ app.website }}"
                target="_blank"
                rel="noopener noreferrer"
                class="inline-flex items-center gap-2 justify-center px-5 py-2.5 text-sm font-semibold rounded-xl bg-black text-white dark:bg-white dark:text-black hover:opacity-80 transition-opacity"
              >
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/></svg>
                Official Website
              </a>
            {% endif %}
            <a
              href="{{ app.sourceComposeUrl }}"
              target="_blank"
              rel="noopener noreferrer"
              class="inline-flex items-center gap-2 justify-center px-5 py-2.5 text-sm font-semibold rounded-xl border border-gray-200 dark:border-zinc-700 hover:border-black dark:hover:border-white transition-colors"
            >
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"/></svg>
              compose.yml
            </a>
            <a
              href="{{ app.sourceInfoUrl }}"
              target="_blank"
              rel="noopener noreferrer"
              class="inline-flex items-center gap-2 justify-center px-5 py-2.5 text-sm font-semibold rounded-xl border border-gray-200 dark:border-zinc-700 hover:border-black dark:hover:border-white transition-colors"
            >
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/></svg>
              info.json
            </a>
          </div>
        </section>

        <!-- Description -->
        {% if app.description %}
          <section class="mt-6 rounded-2xl border border-gray-100 dark:border-zinc-800 bg-white dark:bg-zinc-900 p-8">
            <h2 class="text-[10px] uppercase tracking-[0.2em] text-gray-400 dark:text-zinc-500 mb-3">About</h2>
            <p class="text-sm sm:text-base text-gray-700 dark:text-zinc-300 leading-relaxed">{{ app.description }}</p>
          </section>
        {% endif %}

        <!-- Use Cases -->
        {% if app.usecases.length %}
          <section class="mt-6 rounded-2xl border border-gray-100 dark:border-zinc-800 bg-white dark:bg-zinc-900 p-8">
            <h2 class="text-[10px] uppercase tracking-[0.2em] text-gray-400 dark:text-zinc-500 mb-4">Use Cases</h2>
            <ul class="space-y-3">
              {% for uc in app.usecases %}
                <li class="flex items-start gap-3 text-sm text-gray-700 dark:text-zinc-300">
                  <span class="mt-1 w-4 h-4 shrink-0 rounded-full border border-gray-300 dark:border-zinc-600 flex items-center justify-center">
                    <svg class="w-2.5 h-2.5 text-gray-500 dark:text-zinc-400" fill="currentColor" viewBox="0 0 8 8"><circle cx="4" cy="4" r="2"/></svg>
                  </span>
                  <span>{{ uc }}</span>
                </li>
              {% endfor %}
            </ul>
          </section>
        {% endif %}

        <!-- Ports & Technical Info -->
        <section class="mt-6 rounded-2xl border border-gray-100 dark:border-zinc-800 bg-white dark:bg-zinc-900 p-8">
          <h2 class="text-[10px] uppercase tracking-[0.2em] text-gray-400 dark:text-zinc-500 mb-4">Technical Details</h2>

          {% if app.ports.length %}
            <div class="mb-6">
              <p class="text-xs font-semibold text-gray-500 dark:text-zinc-400 mb-2">Ports</p>
              <div class="overflow-x-auto rounded-xl border border-gray-100 dark:border-zinc-800">
                <table class="w-full text-sm border-collapse">
                  <thead>
                    <tr class="border-b border-gray-100 dark:border-zinc-800 bg-gray-50 dark:bg-zinc-800/50">
                      <th class="text-left text-[10px] uppercase tracking-wider text-gray-400 dark:text-zinc-500 px-4 py-2.5 font-medium">Port</th>
                      <th class="text-left text-[10px] uppercase tracking-wider text-gray-400 dark:text-zinc-500 px-4 py-2.5 font-medium">Protocol</th>
                      <th class="text-left text-[10px] uppercase tracking-wider text-gray-400 dark:text-zinc-500 px-4 py-2.5 font-medium">Label</th>
                    </tr>
                  </thead>
                  <tbody>
                    {% for p in app.ports %}
                      <tr class="border-b border-gray-50 dark:border-zinc-800/50 last:border-0">
                        <td class="px-4 py-3 font-mono font-bold text-black dark:text-white">{{ p.port }}</td>
                        <td class="px-4 py-3">
                          <span class="text-[10px] uppercase tracking-wider px-2 py-0.5 border border-gray-200 dark:border-zinc-700 text-gray-500 dark:text-zinc-400 rounded">{{ p.protocol }}</span>
                        </td>
                        <td class="px-4 py-3 text-gray-600 dark:text-zinc-400">{{ p.label }}</td>
                      </tr>
                    {% endfor %}
                  </tbody>
                </table>
              </div>
            </div>
          {% endif %}

          <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm">
            {% if app.image %}
              <div class="rounded-xl border border-gray-100 dark:border-zinc-800 p-4 bg-gray-50 dark:bg-zinc-800/40">
                <p class="text-[10px] uppercase tracking-[0.18em] text-gray-400 dark:text-zinc-500 mb-1.5">Docker Image</p>
                <p class="font-mono font-semibold text-xs break-all text-black dark:text-white">{{ app.image }}</p>
              </div>
            {% endif %}
            {% if app.serviceName %}
              <div class="rounded-xl border border-gray-100 dark:border-zinc-800 p-4 bg-gray-50 dark:bg-zinc-800/40">
                <p class="text-[10px] uppercase tracking-[0.18em] text-gray-400 dark:text-zinc-500 mb-1.5">Service Name</p>
                <p class="font-mono font-semibold text-xs break-all text-black dark:text-white">{{ app.serviceName }}</p>
              </div>
            {% endif %}
          </div>
        </section>

        <!-- Dependencies -->
        {% if app.dependencies.length %}
          <section class="mt-6 rounded-2xl border border-gray-100 dark:border-zinc-800 bg-white dark:bg-zinc-900 p-8">
            <h2 class="text-[10px] uppercase tracking-[0.2em] text-gray-400 dark:text-zinc-500 mb-4">Dependencies</h2>
            <p class="text-xs text-gray-500 dark:text-zinc-400 mb-3">These services must be running before starting {{ app.name }}.</p>
            <div class="flex flex-wrap gap-2">
              {% for dep in app.dependencies %}
                <a
                  href="../{{ dep }}/"
                  class="inline-flex items-center gap-1.5 text-xs px-3 py-1.5 border border-gray-200 dark:border-zinc-700 text-gray-700 dark:text-zinc-300 hover:border-black dark:hover:border-white hover:text-black dark:hover:text-white transition-colors rounded-lg"
                >
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/></svg>
                  {{ dep }}
                </a>
              {% endfor %}
            </div>
          </section>
        {% endif %}

        <!-- Notes -->
        {% if app.notes and app.notes.length %}
          <section class="mt-6 rounded-2xl border border-amber-100 dark:border-amber-900/40 bg-amber-50 dark:bg-amber-950/20 p-8">
            <h2 class="text-[10px] uppercase tracking-[0.2em] text-amber-600 dark:text-amber-400 mb-4 flex items-center gap-2">
              <svg class="w-3.5 h-3.5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/></svg>
              Notes
            </h2>
            <ul class="space-y-2">
              {% for note in app.notes %}
                <li class="text-sm text-amber-800 dark:text-amber-300 leading-relaxed flex items-start gap-2">
                  <span class="shrink-0 mt-1 text-amber-500">→</span>
                  <span>{{ note }}</span>
                </li>
              {% endfor %}
            </ul>
          </section>
        {% endif %}

        <!-- Related Apps -->
        {% if relatedApps.length %}
          <section class="mt-8">
            <p class="text-[10px] uppercase tracking-[0.18em] text-gray-400 dark:text-zinc-500 mb-4">Related Apps</p>
            <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
              {% for related in relatedApps %}
                <a
                  href="../{{ related.id }}/"
                  class="group flex flex-col p-5 bg-white dark:bg-zinc-900 border border-gray-100 dark:border-zinc-800 rounded-2xl hover:border-black dark:hover:border-zinc-400 hover:shadow-xl hover:-translate-y-1 transition-all duration-300"
                >
                  <div class="flex items-center gap-3 mb-3">
                    <div class="w-10 h-10 bg-gray-50 dark:bg-zinc-800 rounded-xl flex items-center justify-center overflow-hidden shrink-0 border border-gray-100 dark:border-zinc-700">
                      <img src="{{ related.logoUrl }}" alt="{{ related.name }} logo" class="w-full h-full object-cover" loading="lazy" />
                    </div>
                    <p class="text-sm font-bold font-sans group-hover:text-black dark:group-hover:text-white transition-colors truncate">{{ related.name }}</p>
                  </div>
                  <p class="text-xs text-gray-500 dark:text-zinc-500 leading-relaxed group-hover:text-gray-700 dark:group-hover:text-zinc-300 transition-colors line-clamp-2">{{ related.short_description or related.description }}</p>
                  {% if related.tags.length %}
                    <div class="mt-3 flex flex-wrap gap-1">
                      {% for tag in related.tags %}{% if loop.index0 < 3 %}<span class="text-[9px] uppercase tracking-wider px-1.5 py-0.5 border border-gray-100 dark:border-zinc-700 text-gray-400 dark:text-zinc-500 rounded">{{ tag }}</span>{% endif %}{% endfor %}
                    </div>
                  {% endif %}
                </a>
              {% endfor %}
            </div>
          </section>
        {% endif %}

        <p class="mt-8 text-xs text-gray-400 dark:text-zinc-600">Page generated {{ nowIso }}</p>
      </div>
    </main>
  </body>
</html>
