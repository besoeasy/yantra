services:
  nostrudel:
    image: ghcr.io/hzrd149/nostrudel:1.1.0
    container_name: nostrudel
    labels:
      yantr.app: "nostrudel"
      yantr.service: "Nostr Client"
    ports:
      - "80"
    environment:
      CORS_PROXY: nostrudel-cors:8080
    depends_on:
      - nostrudel-cors
    init: true
    restart: unless-stopped

  nostrudel-cors:
    image: ghcr.io/hzrd149/docker-cors-anywhere:0.4.5
    container_name: nostrudel-cors
    environment:
      CORSANYWHERE_REQUIRE_HEADERS: host
    restart: unless-stopped
    labels:
      yantr.app: "nostrudel"
      yantr.service: "CORS Proxy"
